Developer Challenge

Design and implement a system that will accept a multipart form upload (say, containing an audio file) while displaying a percentage progress.

The basic HTML design should look like:

* Display form with file input field
* Display a title text field
* Display a status text paragraph "select file"
* Optionally display a submit button

* Specification:
* When the user picks a file from their computer and optionally presses the submit button, the upload begins.
* While uploading, the status text paragraph should be updating with the current percentage complete at least once every 2 seconds.
* While uploading, the user should be able to enter text into the title text field.
* When the upload completes, the status text should display the path on the server to the saved file.

Requirements:

* The upload should honor proxy settings on the browser
* The system must function behind a firewall that blocks all but port 80
* The server must support at least 2 concurrent uploads
* Any technology that can be web deployed to IE, Firefox, Safari, Chrome on any platform is supported


Further Requirements:
* No Flash (yik!!)
* Rails
* jQuery
* Paperclip

more lightweight: sinatra??

* No extra module

-------------------------------------------------------------------------------------------------------------------------

Cheating:

http://railsillustrated.com/screencast-file-uploads-progress-in-rails-passenger.html
http://drogomir.com/blog/2008/6/18/upload-progress-bar-with-mod_passenger-and-apache
http://www.therailsway.com/2009/4/23/uploading-files


Howto:

get apachemodule: http://github.com/mpokrywka/apache-upload-progress-module
compile:  sudo apxs -c -i -a -Wc,-arch -Wc,ppc7400 -Wl,-arch -Wl,ppc7400  -Wc,-arch -Wc,x86_64 -Wl,-arch -Wl,x86_64 -Wc,-arch -Wc,i386 -Wl,-arch -Wl,i386 mod_upload_progress.c
create vhost

---------------------------
create rails app

add paperclip: http://jimneath.org/2008/04/17/paperclip-attaching-files-in-rails/ 
               http://github.com/thoughtbot/paperclip
add jQuery: http://railscasts.com/episodes/136-jquery
add jRails: http://github.com/aaronchi/jrails








- JSON-P Support
You can also request progress updates by using JSON-P, if you are uploading the file from a different domain or 
subdomain than the web server that is handling your original request. Adding a "callback=yourCallbackFunction" parameter 
to your request to the progress server will activate this functionality. 

For example, a request like:
  http://uploads.yourdomain.com/progress?callback=jsonp123&X-Progress-ID=1234
  
Would return the JSON-P function: 
  jsonp123(new Object({ 'state' : 'uploading', 'received' : 35587, 'size' : 716595, 'speed' : 35587 }));
  
The normal JSON request:
  http://www.yourdomain.com/progress?X-Progress-ID=1234

Would return the JSON data: 
  new Object({ 'state' : 'uploading', 'received' : 35587, 'size' : 716595, 'speed' : 35587 })


########################################################################################################
Other resources:

http://sourceforge.net/projects/uber-uploader/
http://www.sibsoft.net/xupload.html
http://encodable.com/filechucker/
http://talks.php.net/show/afup06/22 (PHP5)
http://digitarald.de/project/fancyupload/ 
  -> http://github.com/digitarald/digitarald-fancyupload (swiff/ajax)


http://code.google.com/p/noswfupload/
http://webreflection.blogspot.com/2009/03/safari-4-multiple-upload-with-progress.html
http://rakaz.nl/2009/08/uploading-multiple-files-using-html5.html
http://serverfault.com/questions/111721/how-can-i-do-a-large-file-upload-using-sinatra-haml-nginx-and-passenger
